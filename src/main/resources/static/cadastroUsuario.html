<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="ISO-8859-1">
<title>iKnox</title>
<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
	crossorigin="anonymous">

<style type="text/css">

html{
margin-left: 25%;
margin-right: 25%;
margin-top: 2%

}

</style>

</head>
<body>

<div class="text-center">
  <img src="Logo IPB 1.png" class="rounded" alt="..." width=240 height=150>
<h1 class="display-6">Cadastrar Usuários</h1>
</div>

	<form action="" id="formCadastroUsuario">
		<div class="row g-3">
			<div class="col">
				<label for="idUsuario" class="form-label">ID</label> 
				<input type=text class="form-control" id="idUsuario" readonly="readonly"> 
			</div>
			<div class="col">	 
				<label for="email" class="form-label">E-mail</label>			
				<input type="text" class="form-control" id="email" aria-describedby="emailHelp">
				<div id="emailHelp" class="form-text">
					Nunca compartilharemos seus dados.
				</div>
			</div>
			<div class="col">
				<label for="senha" class="form-label">Senha</label> 
				<input type="text" class="form-control" id="senha"> 
			</div>	
		</div>	

		<div class="mb-3">	
			<label for="nome" class="form-label">Nome</label> 
			<input type="text" class="form-control" id="nome"> 
			<label class="form-check-label" for="valido">Usuário válido</label>			
			<input type="checkbox" class="form-check-input" id="valido"> 
		</div>

		<div class="mb-3">
		<h4>Nascimento</h4>
			<div class="row g-3">
				<div class="col">
					<label for="Naturalidade" class="form-label">Local</label> 
					<input type=text
					class="form-control" id="Naturalidade"	placeholder="Cidade/UF"
						aria-label="local">
				</div>
				<div class="col">
					<label for="dataNascimento" class="form-label">Data</label> 
					<input type=text class="form-control" id="dataNascimento"
					placeholder="AAAA-MM-DD" aria-label="Data">
				</div>
			</div>
		</div>
		
		<div class="mb-3">	
			<label for="observacao" class="form-label">Observações</label> 
			<textarea class="form-control" id="observacao"></textarea> 
		</div>
		
		<div class="text-center">
			<button type="button" class="btn btn-success" onclick="salvarUsuario()">Salvar</button>
			<button type="button" class="btn btn-success" onclick="document.getElementById('formCadastroUsuario').reset();">Novo</button>		
			<a class="btn btn-success" href="file:///C:/Users/webmi/eclipse-works/springboot-rest-api-igreja/src/main/resources/static/index.html" role="button">Login</a>
		</div>	
		
	</form>		
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	
	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
		crossorigin="anonymous"></script>


<script type="text/javascript">
function salvarUsuario(){
	
	var idUsuario = $("#idUsuario").val();
	var nome = $("#nome").val();
	var dataNascimento = $("#dataNascimento").val();
	var naturalidade = $("#naturalidade").val();
	var valido = $("#valido").val();	
	var email = $("#email").val();
	var senha = $("#senha").val();
	var observacao = $("#observacao").val();

	
	$.ajax({
		method:"POST",
		url: "salvar",
		data: JASON.stringify({idUsuario : idUsuario, nome : nome,  
			dataNascimento : dataNascimento, naturalidade : naturalidade, valido : valido, 
			email : email, senha : senha,observacao : observacao}),
		currentType: "application/JSON; charset = utf8",
		success: function(response){
			$("#idUsuario").val(response.id)
			alert("Usuário salvo com sucesso!")
		}
		
	}).fail(function(xhr, status, errorThrown) {
		alert("Erro ao salvar usuário: " + xhr.responseText);
	});
}
</script>

</body>
</html>